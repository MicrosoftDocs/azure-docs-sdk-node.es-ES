### YamlMime:UniversalReference
items:
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy'
    name: ExtendedDatabaseBlobAuditingPolicy
    fullName: ExtendedDatabaseBlobAuditingPolicy
    children:
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.auditActionsAndGroups'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.id'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.name'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.predicateExpression'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.retentionDays'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.state'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountAccessKey'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageEndpoint'
      - '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.type'
    langs:
      - typeScript
    type: interface
    summary: <span data-ttu-id="251d2-101">La directiva de auditoría de blobs de una base de datos extendido.</span><span class="sxs-lookup"><span data-stu-id="251d2-101">An extended database blob auditing policy.</span></span>
    extends:
      name: '@azure/arm-sql.ProxyResource'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.auditActionsAndGroups'
    name: auditActionsAndGroups
    fullName: auditActionsAndGroups
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="251d2-102">Especifica los grupos de acciones y acciones para auditar.</span><span class="sxs-lookup"><span data-stu-id="251d2-102">Specifies the Actions-Groups and Actions to audit.</span></span>
      <span data-ttu-id="251d2-103">El conjunto recomendado de grupos de acciones para usar es la combinación siguiente: auditará todas las consultas y procedimientos almacenados ejecutados contra la base de datos, así como los inicios de sesión correctos e incorrectos:</span><span class="sxs-lookup"><span data-stu-id="251d2-103">The recommended set of action groups to use is the following combination - this will audit all the queries and stored procedures executed against the database, as well as successful and failed logins:</span></span>

      <span data-ttu-id="251d2-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span><span class="sxs-lookup"><span data-stu-id="251d2-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span></span>

      <span data-ttu-id="251d2-105">Esto por encima de combinación también es el conjunto que está configurado de forma predeterminada, al habilitar la auditoría desde Azure portal.</span><span class="sxs-lookup"><span data-stu-id="251d2-105">This above combination is also the set that is configured by default when enabling auditing from the Azure portal.</span></span>

      <span data-ttu-id="251d2-106">Los grupos de acciones admitidas para auditar son (Nota: seleccione solo determinados grupos que cubran sus necesidades de auditorías.</span><span class="sxs-lookup"><span data-stu-id="251d2-106">The supported action groups to audit are (note: choose only specific groups that cover your auditing needs.</span></span> <span data-ttu-id="251d2-107">Uso de grupos innecesarios podría provocar grandes cantidades de registros de auditoría):</span><span class="sxs-lookup"><span data-stu-id="251d2-107">Using unnecessary groups could lead to very large quantities of audit records):</span></span>

      <span data-ttu-id="251d2-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_ PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_ OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span><span class="sxs-lookup"><span data-stu-id="251d2-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span></span>

      <span data-ttu-id="251d2-109">Estos son grupos que cubren todas las instrucciones sql y procedimientos almacenados ejecutan en la base de datos y no deben usarse en combinación con otros grupos como esto dará como resultado registros de auditoría duplicados.</span><span class="sxs-lookup"><span data-stu-id="251d2-109">These are groups that cover all sql statements and stored procedures executed against the database, and should not be used in combination with other groups as this will result in duplicate audit logs.</span></span>

      <span data-ttu-id="251d2-110">Para obtener más información, consulte [grupos de acciones de auditoría de nivel de base de datos](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span><span class="sxs-lookup"><span data-stu-id="251d2-110">For more information, see [Database-Level Audit Action Groups](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span></span>

      <span data-ttu-id="251d2-111">Para la directiva de auditoría de base de datos, las acciones específicas también pueden ser especificado (tenga en cuenta que no se puede especificar acciones para la directiva de auditoría de servidor).</span><span class="sxs-lookup"><span data-stu-id="251d2-111">For Database auditing policy, specific Actions can also be specified (note that Actions cannot be specified for Server auditing policy).</span></span> <span data-ttu-id="251d2-112">Las acciones admitidas para auditar son: EJECUTAR ACTUALIZACIÓN SELECT, INSERT, DELETE LAS REFERENCIAS DE RECEPCIÓN</span><span class="sxs-lookup"><span data-stu-id="251d2-112">The supported actions to audit are: SELECT UPDATE INSERT DELETE EXECUTE RECEIVE REFERENCES</span></span>

      <span data-ttu-id="251d2-113">La forma general para definir una acción que se auditarán es: {action} ON {objeto} por {principal}</span><span class="sxs-lookup"><span data-stu-id="251d2-113">The general form for defining an action to be audited is: {action} ON {object} BY {principal}</span></span>

      <span data-ttu-id="251d2-114">Tenga en cuenta que <object> en el formato anterior puede hacer referencia a un objeto como una tabla, vista, o procedimiento almacenado, o una base de datos completa o esquema.</span><span class="sxs-lookup"><span data-stu-id="251d2-114">Note that <object> in the above format can refer to an object like a table, view, or stored procedure, or an entire database or schema.</span></span> <span data-ttu-id="251d2-115">Para los últimos casos, los formularios de base de datos:: {db_name} y el esquema:: {schema_name} se utilizan, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="251d2-115">For the latter cases, the forms DATABASE::{db_name} and SCHEMA::{schema_name} are used, respectively.</span></span>

      <span data-ttu-id="251d2-116">Por ejemplo: Seleccione en dbo.myTable seleccionando pública en DATABASE::myDatabase pública seleccionando en SCHEMA::mySchema público</span><span class="sxs-lookup"><span data-stu-id="251d2-116">For example: SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span></span>

      <span data-ttu-id="251d2-117">Para obtener más información, consulte [las acciones de auditoría de nivel de base de datos](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span><span class="sxs-lookup"><span data-stu-id="251d2-117">For more information, see [Database-Level Audit Actions](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span></span>
    optional: true
    syntax:
      content: 'auditActionsAndGroups?: string[]'
      return:
        type:
          - 'string[]'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.id'
    name: id
    fullName: id
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="251d2-118">Identificador del recurso.</span><span class="sxs-lookup"><span data-stu-id="251d2-118">Resource ID.</span></span>
      <span data-ttu-id="251d2-119">**NOTA: Esta propiedad no se serializarán. Solo se pueden rellenar por el servidor.**</span><span class="sxs-lookup"><span data-stu-id="251d2-119">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'id?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
    name: isAzureMonitorTargetEnabled
    fullName: isAzureMonitorTargetEnabled
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="251d2-120">Especifica si los eventos de auditoría se envían a Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="251d2-120">Specifies whether audit events are sent to Azure Monitor.</span></span>
      <span data-ttu-id="251d2-121">Para enviar los eventos a Azure Monitor, especifique 'State' como 'Enabled' y 'IsAzureMonitorTargetEnabled' como true.</span><span class="sxs-lookup"><span data-stu-id="251d2-121">In order to send the events to Azure Monitor, specify 'State' as 'Enabled' and 'IsAzureMonitorTargetEnabled' as true.</span></span>
      <span data-ttu-id="251d2-122">Cuando se usa la API de REST para configurar la auditoría, se debe crear también opciones de diagnóstico con la categoría de los registros de diagnóstico 'SQLSecurityAuditEvents' en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="251d2-122">When using REST API to configure auditing, Diagnostic Settings with 'SQLSecurityAuditEvents' diagnostic logs category on the database should be also created.</span></span>
      <span data-ttu-id="251d2-123">Tenga en cuenta que para el nivel de servidor de auditoría debe usar la base de datos 'master' como {databaseName}.</span><span class="sxs-lookup"><span data-stu-id="251d2-123">Note that for server level audit you should use the 'master' database as {databaseName}.</span></span>

      <span data-ttu-id="251d2-124">Formato de URI de la configuración de diagnóstico: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span><span class="sxs-lookup"><span data-stu-id="251d2-124">Diagnostic Settings URI format: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span></span>

      <span data-ttu-id="251d2-125">Para obtener más información, consulte [API de REST de configuración de diagnóstico](https://go.microsoft.com/fwlink/?linkid=2033207) o [PowerShell de configuración de diagnóstico](https://go.microsoft.com/fwlink/?linkid=2033043)</span><span class="sxs-lookup"><span data-stu-id="251d2-125">For more information, see [Diagnostic Settings REST API](https://go.microsoft.com/fwlink/?linkid=2033207) or [Diagnostic Settings PowerShell](https://go.microsoft.com/fwlink/?linkid=2033043)</span></span>
    optional: true
    syntax:
      content: 'isAzureMonitorTargetEnabled?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
    name: isStorageSecondaryKeyInUse
    fullName: isStorageSecondaryKeyInUse
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="251d2-126">Especifica si el valor de storageAccountAccessKey es clave secundaria del almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="251d2-126">Specifies whether storageAccountAccessKey value is the storage's secondary key.</span></span>
    optional: true
    syntax:
      content: 'isStorageSecondaryKeyInUse?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.name'
    name: name
    fullName: name
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="251d2-127">Nombre del recurso.</span><span class="sxs-lookup"><span data-stu-id="251d2-127">Resource name.</span></span>
      <span data-ttu-id="251d2-128">**NOTA: Esta propiedad no se serializarán. Solo se pueden rellenar por el servidor.**</span><span class="sxs-lookup"><span data-stu-id="251d2-128">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'name?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.predicateExpression'
    name: predicateExpression
    fullName: predicateExpression
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="251d2-129">Especifica la condición de where cláusula para crear una auditoría.</span><span class="sxs-lookup"><span data-stu-id="251d2-129">Specifies condition of where clause when creating an audit.</span></span>
    optional: true
    syntax:
      content: 'predicateExpression?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.retentionDays'
    name: retentionDays
    fullName: retentionDays
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="251d2-130">Especifica el número de días para conservar en la auditoría registra en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="251d2-130">Specifies the number of days to keep in the audit logs in the storage account.</span></span>
    optional: true
    syntax:
      content: 'retentionDays?: undefined | number'
      return:
        type:
          - undefined | number
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.state'
    name: state
    fullName: state
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="251d2-131">Especifica el estado de la directiva.</span><span class="sxs-lookup"><span data-stu-id="251d2-131">Specifies the state of the policy.</span></span> <span data-ttu-id="251d2-132">Si está habilitado el estado, se requieren storageEndpoint o isAzureMonitorTargetEnabled.</span><span class="sxs-lookup"><span data-stu-id="251d2-132">If state is Enabled, storageEndpoint or isAzureMonitorTargetEnabled are required.</span></span> <span data-ttu-id="251d2-133">Los valores posibles son: ''Enabled'', ''Desactivado''</span><span class="sxs-lookup"><span data-stu-id="251d2-133">Possible values include: ''Enabled'', ''Disabled''</span></span>'
    syntax:
      content: 'state: BlobAuditingPolicyState'
      return:
        type:
          - '@azure/arm-sql.BlobAuditingPolicyState'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountAccessKey'
    name: storageAccountAccessKey
    fullName: storageAccountAccessKey
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="251d2-134">Especifica la clave de identificador de la cuenta de almacenamiento de información de auditoría.</span><span class="sxs-lookup"><span data-stu-id="251d2-134">Specifies the identifier key of the auditing storage account.</span></span> <span data-ttu-id="251d2-135">Si el estado está habilitado y se especifica storageEndpoint, storageAccountAccessKey es necesario.</span><span class="sxs-lookup"><span data-stu-id="251d2-135">If state is Enabled and storageEndpoint is specified, storageAccountAccessKey is required.</span></span>'
    optional: true
    syntax:
      content: 'storageAccountAccessKey?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
    name: storageAccountSubscriptionId
    fullName: storageAccountSubscriptionId
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="251d2-136">Especifica el identificador de suscripción de almacenamiento de blobs</span><span class="sxs-lookup"><span data-stu-id="251d2-136">Specifies the blob storage subscription Id.</span></span>
    optional: true
    syntax:
      content: 'storageAccountSubscriptionId?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.storageEndpoint'
    name: storageEndpoint
    fullName: storageEndpoint
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="251d2-137">Especifica el punto de conexión de almacenamiento de blobs (por ejemplo, https://MyAccount.blob.core.windows.net).</span><span class="sxs-lookup"><span data-stu-id="251d2-137">Specifies the blob storage endpoint (e.g. https://MyAccount.blob.core.windows.net).</span></span> <span data-ttu-id="251d2-138">Si está habilitado el estado, es necesario storageEndpoint.</span><span class="sxs-lookup"><span data-stu-id="251d2-138">If state is Enabled, storageEndpoint is required.</span></span>'
    optional: true
    syntax:
      content: 'storageEndpoint?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.ExtendedDatabaseBlobAuditingPolicy.type'
    name: type
    fullName: type
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="251d2-139">Tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="251d2-139">Resource type.</span></span>
      <span data-ttu-id="251d2-140">**NOTA: Esta propiedad no se serializarán. Solo se pueden rellenar por el servidor.**</span><span class="sxs-lookup"><span data-stu-id="251d2-140">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'type?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
references:
  - uid: '@azure/arm-sql.ProxyResource'
    name: ProxyResource
    spec.typeScript:
      - name: ProxyResource
        fullName: ProxyResource
        uid: '@azure/arm-sql.ProxyResource'
  - uid: '@azure/arm-sql.BlobAuditingPolicyState'
    name: BlobAuditingPolicyState
    spec.typeScript:
      - name: BlobAuditingPolicyState
        fullName: BlobAuditingPolicyState
        uid: '@azure/arm-sql.BlobAuditingPolicyState'