### YamlMime:UniversalReference
ms.openlocfilehash: 833d102244edea2c5d239f0079c34a88b32958e2
ms.sourcegitcommit: efa2d98deffe8a0d41a8d63f9f07aa720862e6ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/13/2018
ms.locfileid: "52099410"
items:
- uid: ms-rest-azure.loginWithAuthFile_1
  name: 'loginWithAuthFile((err: Error, credentials: ApplicationTokenCredentials, subscriptions: Array<LinkedSubscription>) => void)'
  children: []
  type: function
  langs:
  - typeScript
  summary: >
    <span data-ttu-id="5f0d3-101">Antes de usar este método, instale az cli desde https://github.com/Azure/azure-cli/releases.</span><span class="sxs-lookup"><span data-stu-id="5f0d3-101">Before using this method please install az cli from https://github.com/Azure/azure-cli/releases.</span></span> <span data-ttu-id="5f0d3-102">A continuación, ejecute `az ad sp create-for-rbac --sdk-auth > ${yourFilename.json}`.</span><span class="sxs-lookup"><span data-stu-id="5f0d3-102">Then execute `az ad sp create-for-rbac --sdk-auth > ${yourFilename.json}`.</span></span>

    <span data-ttu-id="5f0d3-103">Si desea crear sp para un entorno de nube diferente y, a continuación, ejecute:</span><span class="sxs-lookup"><span data-stu-id="5f0d3-103">If you want to create the sp for a different cloud/environment then please execute:</span></span>

    1. <span data-ttu-id="5f0d3-104">lista de AZ cloud</span><span class="sxs-lookup"><span data-stu-id="5f0d3-104">az cloud list</span></span>

    2. <span data-ttu-id="5f0d3-105">en la nube de AZ establece – n <name of the environment></span><span class="sxs-lookup"><span data-stu-id="5f0d3-105">az cloud set –n <name of the environment></span></span>

    3. <span data-ttu-id="5f0d3-106">AZ ad sp create-for-rbac--sdk-auth > auth.json si la entidad de servicio ya está creada, a continuación, inicio de sesión con la información de entidad de servicio:</span><span class="sxs-lookup"><span data-stu-id="5f0d3-106">az ad sp create-for-rbac --sdk-auth > auth.json If the service principal is already created then login with service principal info:</span></span>

    3. <span data-ttu-id="5f0d3-107">inicio de sesión de AZ--entidad de servicio - u <clientId> -p <clientSecret> - t <tenantId></span><span class="sxs-lookup"><span data-stu-id="5f0d3-107">az login --service-principal -u <clientId> -p <clientSecret> -t <tenantId></span></span>

    4. <span data-ttu-id="5f0d3-108">muestra de la cuenta de AZ--sdk-auth > auth.json</span><span class="sxs-lookup"><span data-stu-id="5f0d3-108">az account show --sdk-auth > auth.json</span></span>


    <span data-ttu-id="5f0d3-109">Se autentica mediante la información de la entidad de servicio proporcionada en el archivo de autenticación.</span><span class="sxs-lookup"><span data-stu-id="5f0d3-109">Authenticates using the service principal information provided in the auth file.</span></span> <span data-ttu-id="5f0d3-110">Este método establecerá el subscriptionId desde el archivo de autenticación para el usuario proporcionado la variable de entorno en el parámetro de opciones o el valor predeterminado 'AZURE_SUBSCRIPTION_ID'.</span><span class="sxs-lookup"><span data-stu-id="5f0d3-110">This method will set the subscriptionId from the auth file to the user provided environment variable in the options parameter or the default 'AZURE_SUBSCRIPTION_ID'.</span></span>
  syntax:
    content: 'function loginWithAuthFile(callback: (err: Error, credentials: ApplicationTokenCredentials, subscriptions: Array<LinkedSubscription>) => void)'
    parameters:
    - id: callback
      type:
      - '(err: Error, credentials: ApplicationTokenCredentials, subscriptions: Array<LinkedSubscription>) => void'
      description: ''
    return:
      type:
      - Promise<ms-rest-azure.ApplicationTokenCredentials>
  package: ms-rest-azure
references:
- uid: Promise<ms-rest-azure.ApplicationTokenCredentials>
  name: ApplicationTokenCredentials>
  spec.typeScript:
  - name: Promise<
    fullName: Promise<
  - name: ApplicationTokenCredentials
    fullName: ApplicationTokenCredentials
    uid: ms-rest-azure.ApplicationTokenCredentials
  - name: '>'
    fullName: '>'
